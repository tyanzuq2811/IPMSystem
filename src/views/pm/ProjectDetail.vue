<template>
  <div class="space-y-6">
    <!-- Header -->
    <div>
      <button @click="$router.push('/pm/dashboard')" class="text-cyan-600 hover:text-cyan-700 text-sm mb-3">â† Back to My Projects</button>
      
      <div class="bg-white rounded-lg shadow border border-gray-200 p-6">
        <div class="flex justify-between items-start mb-4">
          <div>
            <h1 class="text-2xl font-bold text-gray-800 mb-2">Vinhomes Landmark - CÄƒn A1</h1>
            <p class="text-sm text-gray-600">123 ÄÆ°á»ng ABC, Quáº­n 1, TP.HCM</p>
            <p class="text-sm text-gray-600 mt-1">
              Status: <span class="text-green-600">  Äang thi cÃ´ng</span> | 
              Created: <span>15/01/2024</span> | 
              ID: <span class="font-semibold">#PRJ2024001</span>
            </p>
          </div>
          <div class="flex gap-2">
            <button class="px-4 py-2 bg-cyan-600 text-white text-sm rounded hover:bg-cyan-700">ğŸ’¬ Chat with team</button>
            <button class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50">Export Report</button>
            <button class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50">Settings</button>
          </div>
        </div>

        <!-- Quick Overview Cards -->
        <div class="grid grid-cols-4 gap-4">
          <div class="bg-blue-50 rounded-lg p-4">
            <p class="text-xs text-gray-600 mb-1">Tiáº¿n Ä‘á»™</p>
            <p class="text-2xl font-bold text-gray-800 mb-1">85%</p>
            <div class="w-full bg-gray-200 rounded-full h-1.5 mb-1">
              <div class="bg-green-500 h-1.5 rounded-full" style="width: 85%"></div>
            </div>
            <p class="text-xs text-gray-500">17/20 tasks</p>
          </div>
          <div class="bg-green-50 rounded-lg p-4">
            <p class="text-xs text-gray-600 mb-1">NgÃ¢n sÃ¡ch</p>
            <p class="text-2xl font-bold text-gray-800 mb-1">145M/150M</p>
            <p class="text-xs text-green-600">â†—ï¸ +5M (-3.3%)</p>
          </div>
          <div class="bg-yellow-50 rounded-lg p-4">
            <p class="text-xs text-gray-600 mb-1">Thá»i gian</p>
            <p class="text-2xl font-bold text-gray-800 mb-1">5 ngÃ y</p>
            <p class="text-xs text-green-600">On track</p>
          </div>
          <div class="bg-purple-50 rounded-lg p-4">
            <p class="text-xs text-gray-600 mb-1">Team</p>
            <p class="text-2xl font-bold text-gray-800 mb-1">5</p>
            <p class="text-xs text-gray-500">members</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Tabs Navigation -->
    <div class="bg-white rounded-lg shadow border border-gray-200">
      <div class="border-b border-gray-200">
        <div class="flex overflow-x-auto">
          <button v-for="tab in tabs" :key="tab.id" @click="activeTab = tab.id"
                  :class="['px-6 py-4 text-sm font-medium whitespace-nowrap border-b-2 transition-colors',
                           activeTab === tab.id ? 'border-cyan-600 text-cyan-600' : 'border-transparent text-gray-600 hover:text-gray-800']">
            {{ tab.name }}
          </button>
        </div>
      </div>

      <div class="p-6">
        <!-- Tab: Overview -->
        <div v-if="activeTab === 'overview'" class="space-y-6">
          <div class="grid grid-cols-2 gap-6">
            <!-- Project Info -->
            <div class="border border-gray-200 rounded-lg p-6">
              <h3 class="text-lg font-semibold text-gray-800 mb-4">THÃ”NG TIN Dá»° ÃN</h3>
              <div class="space-y-2 text-sm">
                <div><span class="font-medium">TÃªn dá»± Ã¡n:</span> Vinhomes Landmark - CÄƒn A1</div>
                <div><span class="font-medium">Äá»‹a chá»‰:</span> 123 ÄÆ°á»ng ABC, Q1, HCM</div>
                <div><span class="font-medium">Diá»‡n tÃ­ch:</span> 120.5 mÂ²</div>
                <div><span class="font-medium">Loáº¡i:</span> CÄƒn há»™ cao cáº¥p</div>
                <div><span class="font-medium">NgÃ y báº¯t Ä‘áº§u:</span> 15/01/2024</div>
                <div><span class="font-medium">Deadline:</span> 30/03/2024</div>
                <div><span class="font-medium">Thá»i gian:</span> 75 ngÃ y (cÃ²n láº¡i: 5 ngÃ y)</div>
                <div><span class="font-medium">Tráº¡ng thÃ¡i:</span> <span class="text-green-600">Äang thi cÃ´ng</span></div>
              </div>
              <button class="mt-4 px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50">Edit Info</button>
            </div>

            <!-- Team Members -->
            <div class="border border-gray-200 rounded-lg p-6">
              <h3 class="text-lg font-semibold text-gray-800 mb-4">TEAM MEMBERS</h3>
              <div class="space-y-4">
                <div class="pb-3 border-b">
                  <p class="text-xs text-gray-500 mb-1">ğŸ‘” Project Manager</p>
                  <p class="font-medium">Nguyá»…n VÄƒn A (You)</p>
                  <p class="text-sm text-gray-600">nguyenvana@email.com</p>
                  <p class="text-sm text-gray-600">ğŸ“ 0901234567</p>
                </div>
                <div class="pb-3 border-b">
                  <p class="text-xs text-gray-500 mb-1">âš’ï¸ Foreman</p>
                  <p class="font-medium">LÃª VÄƒn C</p>
                  <p class="text-sm text-gray-600">levanc@email.com</p>
                  <p class="text-sm text-gray-600">ğŸ“ 0907654321</p>
                  <button class="mt-2 text-xs text-cyan-600 hover:text-cyan-700">Send message</button>
                </div>
                <div>
                  <p class="text-xs text-gray-500 mb-1">ğŸ‘¨â€ğŸ’¼ Client</p>
                  <p class="font-medium">Tráº§n Thá»‹ X</p>
                  <p class="text-sm text-gray-600">tranthix@email.com</p>
                  <p class="text-sm text-gray-600">ğŸ“ 0909876543</p>
                  <button class="mt-2 text-xs text-cyan-600 hover:text-cyan-700">Send message</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Recent Activities -->
          <div class="border border-gray-200 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">HOáº T Äá»˜NG Gáº¦N ÄÃ‚Y</h3>
            <div class="space-y-4">
              <div class="border-b border-gray-100 pb-4">
                <p class="text-xs text-gray-500 mb-1">ğŸ• 2 giá» trÆ°á»›c</p>
                <p class="font-medium text-gray-800">LÃª VÄƒn C cáº­p nháº­t tiáº¿n Ä‘á»™: Láº¯p Ä‘áº·t Ä‘iá»‡n - 90%</p>
                <p class="text-sm text-gray-600">"ÄÃ£ hoÃ n thÃ nh láº¯p Ä‘áº·t á»• cáº¯m vÃ  cÃ´ng táº¯c phÃ²ng khÃ¡ch"</p>
                <p class="text-sm text-gray-600">ğŸ“· 3 áº£nh | ğŸ‘ï¸ Viewed | Status: â³ Chá» duyá»‡t</p>
                <div class="flex gap-2 mt-2">
                  <button class="px-3 py-1 bg-green-600 text-white text-xs rounded">âœ… Approve</button>
                  <button class="px-3 py-1 bg-red-600 text-white text-xs rounded">âŒ Reject</button>
                  <button class="px-3 py-1 text-cyan-600 text-xs">ğŸ’¬ Comment</button>
                </div>
              </div>
              <div class="border-b border-gray-100 pb-4">
                <p class="text-xs text-gray-500 mb-1">ğŸ• 5 giá» trÆ°á»›c</p>
                <p class="font-medium text-gray-800">ğŸ“¦ You approved: YÃªu cáº§u váº­t tÆ°</p>
                <p class="text-sm text-gray-600">â€¢ á»c vÃ­t M6 x50 â€¢ Keo silicon x2kg</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Tab: Progress -->
        <div v-if="activeTab === 'progress'" class="space-y-6">
          <div class="flex gap-4 mb-4">
            <select class="px-4 py-2 border border-gray-300 rounded-md text-sm">
              <option>All</option>
              <option>Pending approval</option>
              <option>Approved</option>
              <option>Rejected</option>
            </select>
            <select class="px-4 py-2 border border-gray-300 rounded-md text-sm">
              <option>Latest first</option>
              <option>Oldest first</option>
            </select>
          </div>

          <!-- Progress Overview -->
          <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
            <h3 class="font-semibold text-gray-800 mb-3">Tá»”NG QUAN TIáº¾N Äá»˜</h3>
            <div class="mb-3">
              <div class="flex justify-between text-sm mb-2">
                <span>Tiáº¿n Ä‘á»™ tá»•ng thá»ƒ:</span>
                <span>85% (17/20 tasks)</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3">
                <div class="bg-green-500 h-3 rounded-full" style="width: 85%"></div>
              </div>
            </div>
            <p class="text-sm">On track: 15 tasks | Behind: 1 task | Ahead: 4 tasks</p>
            <p class="text-sm text-orange-600 mt-2">Chá» duyá»‡t: 3 cáº­p nháº­t</p>
          </div>

          <!-- Category Progress -->
          <div class="border border-gray-200 rounded-lg p-6">
            <h3 class="font-semibold text-gray-800 mb-4">ÄIá»†N (90% - On track)</h3>
            <div class="bg-gray-50 rounded-lg p-4 mb-4">
              <div class="flex justify-between text-sm mb-2">
                <span class="font-medium">Cáº­p nháº­t #15 - 26/12/2024 10:30 AM</span>
                <span class="bg-yellow-100 text-yellow-600 px-2 py-1 rounded text-xs">â³ Chá» duyá»‡t</span>
              </div>
              <p class="text-sm text-gray-600 mb-2">By: LÃª VÄƒn C (Foreman)</p>
              <div class="mb-2">
                <p class="text-sm mb-1">Progress: 85% â†’ 90% (+5%)</p>
                <div class="w-full bg-gray-200 rounded-full h-2">
                  <div class="bg-yellow-500 h-2 rounded-full" style="width: 90%"></div>
                </div>
              </div>
              <p class="text-sm text-gray-700 mb-2">ğŸ“ Notes: "ÄÃ£ hoÃ n thÃ nh láº¯p Ä‘áº·t á»• cáº¯m vÃ  cÃ´ng táº¯c phÃ²ng khÃ¡ch..."</p>
              <p class="text-sm text-gray-600 mb-2">ğŸ“· Images (3)</p>
              <div class="flex gap-2 mt-3">
                <button class="px-4 py-2 bg-green-600 text-white text-sm rounded">Approve</button>
                <button class="px-4 py-2 bg-red-600 text-white text-sm rounded">âŒ Reject</button>
                <button class="px-4 py-2 bg-white border border-gray-300 text-sm rounded">ğŸ’¬ Comment</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Tab: Budget -->
        <div v-if="activeTab === 'budget'" class="space-y-6">
          <div class="grid grid-cols-3 gap-4">
            <div class="bg-blue-50 rounded-lg p-4">
              <p class="text-sm text-gray-600 mb-1">Planned Budget</p>
              <p class="text-2xl font-bold">150M Ä‘</p>
              <p class="text-xs text-gray-500">100%</p>
            </div>
            <div class="bg-green-50 rounded-lg p-4">
              <p class="text-sm text-gray-600 mb-1">Actual Spent</p>
              <p class="text-2xl font-bold text-green-600">145M Ä‘</p>
              <p class="text-xs text-gray-500">96.7%</p>
            </div>
            <div class="bg-orange-50 rounded-lg p-4">
              <p class="text-sm text-gray-600 mb-1">Variance</p>
              <p class="text-2xl font-bold text-orange-600">-5M Ä‘</p>
              <p class="text-xs text-orange-600">-3.3% Watch</p>
            </div>
          </div>

          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-50">
                <tr>
                  <th class="px-4 py-3 text-left text-sm font-medium">Háº¡ng má»¥c</th>
                  <th class="px-4 py-3 text-right text-sm font-medium">Dá»± toÃ¡n</th>
                  <th class="px-4 py-3 text-right text-sm font-medium">Thá»±c táº¿</th>
                  <th class="px-4 py-3 text-right text-sm font-medium">ChÃªnh lá»‡ch</th>
                  <th class="px-4 py-3 text-center text-sm font-medium">Status</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr>
                  <td class="px-4 py-3 text-sm">âš¡ Äiá»‡n</td>
                  <td class="px-4 py-3 text-sm text-right">15.0M</td>
                  <td class="px-4 py-3 text-sm text-right">16.5M</td>
                  <td class="px-4 py-3 text-sm text-right text-red-600">+1.5M</td>
                  <td class="px-4 py-3 text-center"><span class="bg-red-100 text-red-600 px-2 py-1 rounded text-xs">ğŸ”´ Over</span></td>
                </tr>
                <tr>
                  <td class="px-4 py-3 text-sm">ğŸ’§ NÆ°á»›c</td>
                  <td class="px-4 py-3 text-sm text-right">12.0M</td>
                  <td class="px-4 py-3 text-sm text-right">11.5M</td>
                  <td class="px-4 py-3 text-sm text-right text-green-600">-0.5M</td>
                  <td class="px-4 py-3 text-center"><span class="bg-green-100 text-green-600 px-2 py-1 rounded text-xs">ğŸŸ¢ Good</span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Tab: Materials -->
        <div v-if="activeTab === 'materials'">
          <p class="text-gray-600 mb-4">Quáº£n lÃ½ váº­t tÆ° cho dá»± Ã¡n nÃ y. Xem danh sÃ¡ch váº­t tÆ° Ä‘Ã£ sá»­ dá»¥ng, yÃªu cáº§u chá» duyá»‡t vÃ  tÃ¬nh tráº¡ng kho.</p>
          <button @click="$router.push('/pm/materials')" class="px-4 py-2 bg-cyan-600 text-white rounded hover:bg-cyan-700">
            Xem chi tiáº¿t Váº­t tÆ° â†’
          </button>
        </div>

        <!-- Tab: Team -->
        <div v-if="activeTab === 'team'" class="space-y-4">
          <div class="flex justify-between items-center mb-4">
            <h3 class="font-semibold text-gray-800">TEAM MEMBERS</h3>
            <button class="px-4 py-2 bg-cyan-600 text-white text-sm rounded">+ Add member</button>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div class="border border-gray-200 rounded-lg p-6">
              <div class="flex items-center gap-3 mb-3">
                <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-2xl">ğŸ‘¤</div>
                <div>
                  <p class="font-semibold">Nguyá»…n VÄƒn A (You)</p>
                  <p class="text-sm text-gray-600">Project Manager</p>
                </div>
              </div>
              <p class="text-sm text-gray-600">ğŸ“§ nguyenvana@email.com</p>
              <p class="text-sm text-gray-600">ğŸ“ 0901234567</p>
              <p class="text-sm text-gray-600 mt-2">Current projects: 8 | Completed: 15</p>
            </div>

            <div class="border border-gray-200 rounded-lg p-6">
              <div class="flex items-center gap-3 mb-3">
                <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-2xl">âš’ï¸</div>
                <div>
                  <p class="font-semibold">LÃª VÄƒn C</p>
                  <p class="text-sm text-gray-600">Foreman</p>
                </div>
              </div>
              <p class="text-sm text-gray-600">ğŸ“§ levanc@email.com</p>
              <p class="text-sm text-gray-600">ğŸ“ 0907654321</p>
              <p class="text-sm text-gray-600 mt-2">Rating: â­â­â­â­â­ (4.8/5)</p>
              <button class="mt-2 text-sm text-cyan-600 hover:text-cyan-700">Send message</button>
            </div>
          </div>
        </div>

        <!-- Tab: Documents -->
        <div v-if="activeTab === 'documents'" class="space-y-6">
          <div class="flex gap-3 mb-4">
            <button class="px-4 py-2 bg-cyan-600 text-white text-sm rounded">ğŸ“¤ Upload</button>
            <button class="px-4 py-2 bg-white border border-gray-300 text-sm rounded">ğŸ“ New folder</button>
            <input type="text" placeholder="ğŸ” Search..." class="flex-1 px-4 py-2 border border-gray-300 rounded-md">
          </div>

          <div class="space-y-2">
            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50">
              <p class="font-medium">ğŸ“ Thiáº¿t káº¿ (8 files - 15.2 MB)</p>
            </div>
            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50">
              <p class="font-medium">ğŸ“ Há»£p Ä‘á»“ng (5 files - 8.5 MB)</p>
            </div>
            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50">
              <p class="font-medium">ğŸ“ áº¢nh tiáº¿n Ä‘á»™ (150 files - 250 MB)</p>
            </div>
          </div>

          <p class="text-sm text-gray-600 mt-4">Storage: 295.5 MB / 500 MB (59%)</p>
        </div>

        <!-- Tab: Chat -->
        <div v-if="activeTab === 'chat'" class="space-y-4">
          <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 h-96 overflow-y-auto">
            <div class="space-y-4">
              <div class="flex gap-3">
                <div class="w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"></div>
                <div class="flex-1">
                  <p class="text-sm font-medium">LÃª VÄƒn C <span class="text-xs text-gray-500">2 giá» trÆ°á»›c</span></p>
                  <p class="text-sm text-gray-700 bg-white rounded-lg p-3 mt-1">Anh Æ¡i, em Ä‘Ã£ cáº­p nháº­t tiáº¿n Ä‘á»™ láº¯p Ä‘iá»‡n lÃªn 90%. Anh xem vÃ  duyá»‡t giÃºp em nhÃ©.</p>
                </div>
              </div>
              <div class="flex gap-3 flex-row-reverse">
                <div class="w-8 h-8 bg-cyan-500 rounded-full flex-shrink-0"></div>
                <div class="flex-1 text-right">
                  <p class="text-sm font-medium">You <span class="text-xs text-gray-500">2 giá» trÆ°á»›c</span></p>
                  <p class="text-sm text-gray-700 bg-cyan-100 rounded-lg p-3 mt-1 inline-block">Ok em, anh xem rá»“i, lÃ m tá»‘t láº¯m! ğŸ‘</p>
                </div>
              </div>
            </div>
          </div>
          <div class="flex gap-2">
            <input type="text" placeholder="Type your message..." class="flex-1 px-4 py-2 border border-gray-300 rounded-md">
            <button class="px-6 py-2 bg-cyan-600 text-white rounded hover:bg-cyan-700">Send ğŸš€</button>
          </div>
        </div>

        <!-- Tab: Timeline -->
        <div v-if="activeTab === 'timeline'" class="space-y-6">
          <div class="space-y-6">
            <div>
              <h3 class="font-semibold text-gray-700 mb-3">ğŸ“… 26/12/2024</h3>
              <div class="ml-4 border-l-2 border-gray-200 pl-4 space-y-3">
                <div>
                  <p class="text-sm font-medium">10:30 AM - Progress Update</p>
                  <p class="text-sm text-gray-600">âš¡ LÃª VÄƒn C updated: Äiá»‡n 85% â†’ 90%</p>
                </div>
                <div>
                  <p class="text-sm font-medium">09:00 AM - Material Approved</p>
                  <p class="text-sm text-gray-600">ğŸ“¦ You approved: á»c vÃ­t x50, Keo x2kg</p>
                </div>
              </div>
            </div>

            <div>
              <h3 class="font-semibold text-gray-700 mb-3">ğŸ“… 25/12/2024</h3>
              <div class="ml-4 border-l-2 border-gray-200 pl-4 space-y-3">
                <div>
                  <p class="text-sm font-medium">04:00 PM - Progress Approved</p>
                  <p class="text-sm text-gray-600">âœ… You approved: Äiá»‡n 80% â†’ 85%</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'ProjectDetail',
  data() {
    return {
      activeTab: 'overview',
      tabs: [
        { id: 'overview', name: 'Overview' },
        { id: 'progress', name: 'Progress' },
        { id: 'budget', name: 'Budget' },
        { id: 'materials', name: 'Materials' },
        { id: 'team', name: 'Team' },
        { id: 'documents', name: 'Documents' },
        { id: 'chat', name: 'Chat' },
        { id: 'timeline', name: 'Timeline' }
      ]
    }
  }
}
</script>
